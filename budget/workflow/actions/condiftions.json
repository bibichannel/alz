{
    "type": "If",
    "expression": {
        "and": [
            {
                "equals": [
                    "@outputs('HTTP')?['statusCode']",
                    200
                ]
            }
        ]
    },
    "actions": {},
    "else": {
        "actions": {
            "HTTP_1": {
                "type": "Http",
                "inputs": {
                    "uri": "",
                    "method": "PUT",
                    "body": {
                        "properties": {
                            "displayName": "Assignment testing",
                            "description": "This is policy for testing",
                            "metadata": {
                                "assignedBy": "Logic app"
                            },
                            "policyDefinitionId": "",
                            "parameters": {
                                "listOfResourceTypesAllowed": {
                                    "value": []
                                }
                            },
                            "nonComplianceMessages": [
                                {
                                    "message": "The resources non-compliance."
                                }
                            ]
                        }
                    },
                    "authentication": {
                        "type": "ManagedServiceIdentity",
                        "identity": "[parameters('identity_id')]"
                    }
                },
                "runtimeConfiguration": {
                    "contentTransfer": {
                        "transferMode": "Chunked"
                    }
                }
            }
        }
    },
    "runAfter": {
        "HTTP": [
            "SUCCEEDED",
            "FAILED"
        ]
    }
}